<form class="form-horizontal" action='register' method="POST">
  <fieldset>
    <div id="legend">
      <legend class="">Register</legend>
    </div>
    {{!-- <div class="control-group">
      <!-- Username -->
      <label class="control-label"  for="email">email</label>
      <div class="controls">
        <input type="text" id="email" name="email" placeholder="" class="input-xlarge">
        <p class="help-block">email can contain any letters or numbers, without spaces</p>
      </div>
    </div> --}}
 
    <div class="form-group">
                    <label for="email">Email address</label>
                    <input name="email" type="email" class="form-control" id="email" aria-describedby="emailHelp"
                           placeholder="Enter email">
                    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone
                        else.</small>
                </div>

    <div class="control-group">
      <!-- full name -->
      <label class="control-label" for="name">full name</label>
      <div class="controls">
        <input type="text" id="name" name="name" placeholder="" class="input-xlarge">
        <p class="help-block">Please provide your full name</p>
      </div>
    </div>
 
    <div class="control-group">
      <!-- Password-->
      <label class="control-label" for="password">Password</label>
      <div class="controls">
        <input type="password" id="password" name="password" placeholder="" class="input-xlarge">
        <p class="help-block">Password should be at least 7 characters</p>
      </div>
    </div>
 
    
 
    <div class="control-group">
      <!-- Button -->
      <div class="controls">
        <button class="btn btn-success">Register</button>
      </div>
      <div class="error">{{error}}</div>
    </div>
  </fieldset>
</form>

{{#section 'script'}}
    <script>
        $('#email').on('input', function () {
            const emailInput = $(this);
            $.getJSON('/authentication/api/check-email-exist/' + this.value, function (isExist) {
                if (isExist) {
                    emailInput.addClass('is-invalid');
                    emailInput.removeClass('is-valid');
                    $('.error').html('Email already exist');
                } else {
                    emailInput.addClass('is-valid');
                    emailInput.removeClass('is-invalid');
                    $('.error').html('');
                }
            });
        });
    </script>
{{/section}}